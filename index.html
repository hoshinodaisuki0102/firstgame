<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>2D RPG 기본틀</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
      background: url("abydos.jpg") no-repeat center center;
      background-size: cover; /* 배경 화질 깨짐 방지 */
    }
  </style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<script>
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  // 캐릭터 이미지 불러오기
  const playerImg = new Image();
  playerImg.src = "hoshino_base.png";

  const player = {
    x: canvas.width / 2,
    y: canvas.height / 2,
    width: 64,   // 크기 키우기
    height: 64,
    speed: 5,
    dx: 0,
    dy: 0
  };

  const keys = {};

  document.addEventListener("keydown", (e) => {
    keys[e.key.toLowerCase()] = true;
  });

  document.addEventListener("keyup", (e) => {
    keys[e.key.toLowerCase()] = false;
  });

  function movePlayer() {
    player.dx = 0;
    player.dy = 0;

    if (keys["arrowup"] || keys["w"]) player.dy = -player.speed;
    if (keys["arrowdown"] || keys["s"]) player.dy = player.speed;
    if (keys["arrowleft"] || keys["a"]) player.dx = -player.speed;
    if (keys["arrowright"] || keys["d"]) player.dx = player.speed;

    player.x += player.dx;
    player.y += player.dy;
  }

  function drawPlayer() {
    ctx.drawImage(playerImg, player.x, player.y, player.width, player.height);
  }

  function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    movePlayer();
    drawPlayer();
    requestAnimationFrame(update);
  }

  playerImg.onload = () => {
    update();
  };
</script>
</body>
</html>
